---
---

<div id="preloader" class="fixed inset-0 z-[9999] flex items-center justify-center bg-gray-950" style="backdrop-filter: blur(10px);">
  <div class="text-center">
    <!-- Logo/Texto principal -->
    <div class="mb-8">
      <h1 class="text-4xl md:text-6xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4">
        Mi Portafolio
      </h1>
      <p class="text-gray-300 text-lg">Cargando experiencia...</p>
    </div>
    
    <!-- Spinner animado -->
    <div class="relative w-20 h-20 mx-auto mb-8">
      <div class="absolute inset-0 border-4 border-blue-200 rounded-full opacity-20"></div>
      <div class="absolute inset-0 border-4 border-transparent border-t-blue-400 border-r-purple-400 rounded-full animate-spin"></div>
    </div>
    
    <!-- Barra de progreso -->
    <div class="w-64 h-2 bg-gray-700 rounded-full mx-auto overflow-hidden">
      <div id="progress-bar" class="h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-2000 ease-out w-0"></div>
    </div>
    
    <!-- Porcentaje -->
    <div id="progress-text" class="text-gray-300 mt-4 font-mono">0%</div>
  </div>
  
  <!-- Partículas flotantes -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="particle absolute w-2 h-2 bg-blue-400 rounded-full opacity-60" style="top: 20%; left: 10%; animation: float 3s ease-in-out infinite;"></div>
    <div class="particle absolute w-1 h-1 bg-purple-400 rounded-full opacity-40" style="top: 60%; left: 80%; animation: float 4s ease-in-out infinite 1s;"></div>
    <div class="particle absolute w-3 h-3 bg-blue-300 rounded-full opacity-30" style="top: 80%; left: 20%; animation: float 5s ease-in-out infinite 2s;"></div>
    <div class="particle absolute w-1 h-1 bg-purple-300 rounded-full opacity-50" style="top: 30%; left: 70%; animation: float 3.5s ease-in-out infinite 0.5s;"></div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const preloader = document.getElementById('preloader');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    
    let progress = 0;
    const duration = 2000; // 2 segundos
    const interval = 50; // Actualizar cada 50ms
    const increment = (100 * interval) / duration;
    
    const progressInterval = setInterval(() => {
      progress += increment;
      
      if (progress >= 100) {
        progress = 100;
        clearInterval(progressInterval);
        
        // Esperar un poco más y luego ocultar el preloader
        setTimeout(() => {
          preloader?.classList.add('opacity-0');
          preloader?.classList.add('transition-opacity');
          preloader?.classList.add('duration-500');
          
          setTimeout(() => {
            preloader?.remove();
          }, 500);
        }, 200);
      }
      
      if (progressBar) {
        progressBar.style.width = `${progress}%`;
      }
      
      if (progressText) {
        progressText.textContent = `${Math.round(progress)}%`;
      }
    }, interval);
  });
</script>

<style>
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
      opacity: 0.6;
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
      opacity: 1;
    }
  }
  
  .particle {
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
  }
</style>
